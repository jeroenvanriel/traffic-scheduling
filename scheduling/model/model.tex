\documentclass{article}
\usepackage{amsmath}

\title{Traffic Scheduling}
\author{Jeroen van Riel}
\date{September 2023}

\begin{document}

\maketitle

\section{Job Shop Scheduling}
We have $m$ machines and $n$ jobs. The basic job shop scheduling problem may be
formulated as the following MIP:
\begin{align*}
  \text{minimize} \max_{ij} C_{ij} \\
  y_{ij} + p_{ij} &\leq y_{kj}  & \text{ for all } (i,j) \xrightarrow{} (k,j) \in A \\
  y_{ij} + p_{ij} &\leq C_{\text{max}} & \text{ for all } (i,j) \in N \\
  y_{il} + p_{il} &\leq  y_{ij} \text{ or } y_{ij} + p_{ij} \leq y_{il}  & \text{ for all } (i,l) \text{ and } (i,j), i =1, \dots,m \\
  y_{ij} &\geq 0 & \text{ for all } (i,j) \in N
\end{align*}


\section{Traffic Scheduling}

% TODO: introduce multiple lanes, opposing lanes on the same edge and consider
% multiple phases at intersections
% TODO: use ``arc'' instead of ``edge''
We now turn to vehicles travelling through a network of intersections. The
network may be thought of as a weighted directed graph $G=(V,E)$, with nodes and
edges representing intersections and roads, respectively. Let $d(x,y)$ be
defined as the \textit{distance} between nodes $x$ and $y$. We assume there are
no nodes of degree two, since their two incident edges $(x,y)$ and $(y,z)$ could
be merged into one edge $(x,z)$ with $d(x,z) = d(x,y) + d(y,z)$, without loss of
expressiveness. Furthermore, we assume the graph is connected. Each node of
degree one is called an \textit{external node} and models the location where
vehicles enter/exit the network. A node of degree at least three is called an
\textit{internal node} and models an intersection.

Each vehicle $j$ enters the network at some external node $s$ and follows a
predetermined sequence of edges
$R = ((s,i_{0}), (i_{0},i_{1}), \dots, (i_{n-1},i_{n}), (i_{n},d))$ towards an
external node $d$ where it leaves the network. Vehicles are not able to overtake
each other when travelling on the same edge. We assume that edges provide
infinite \textit{buffers} for vehicles, meaning that there is no limit on the
number of vehicles that are travelling on the same edge at the same time.
However, we impose a minimum time required to travel along an edge $(x,y)$. By
assuming uniform maximum speed among vehicles, $d(x,y)$ can be directly
interpreted as this minimum travel time.

Let $y(i,j)$ denote the time vehicle $j$ enters intersection $i$. Crossing an
intersection takes $p$ time per vehicle and at most one vehicle can cross an
intersection at the same time. When two consecutive vehicles crossing an
intersection originate from the same edge, they may pass immediately after each
other. However, when a vehicle $j_{1}$ that wants to cross comes from a
different edge than the vehicle $j_{0}$ that last crossed the intersection, we
require that there is at least a \textit{switch-over time} $S$ between the
moment $j_{0}$ leaves and the moment $j_{1}$ enters the intersection.

Assuming that arrival times and routes of all vehicles are fixed and given,
our task is to determine when individual vehicles should cross intersections by
setting values for $y(i,j)$.
Like job shop, this problem may be formulated as a MIP.

\begin{align*}
  \text{maximize } P(y) \\
  y_{ij} + p_{ij} + t_{ik} &\leq y_{kj}  & \text{ for all } (i,j) \xrightarrow{} (k,j) \in A \\
  y_{ij} + p_{ij} &\leq C_{\text{max}} & \text{ for all } (i,j) \in N \\
  y_{il} + p_{il} &\leq  y_{ij} \text{ or } y_{ij} + p_{ij} \leq y_{il}  & \text{ for all } (i,l) \text{ and } (i,j), i =1, \dots,m \\
  y_{ij} &\geq 0 & \text{ for all } (i,j) \in N \\
  %
\end{align*}
where $P(y)$ denotes some unspecified performance metric, leaving for now the
question of what it means for a schedule to be \textit{good}.

Preserve ordering of vehicles on each incoming edge, because we assume vehicles do not overtake each other:
\begin{align*}
  r_{j} < r_{l} \implies (i,j) \rightarrow{} (i,l) \text{ for all } i = 1,\dots,m .
\end{align*}

\end{document}
